<div class="container-fluid event-details">
  <app-navbar></app-navbar>

  <div class="container">
    <div class="ro">
      <a href="landing"><i class="fas fa-home"><span> Home</span></i></a>
      <h6>Event & Ticket details</h6>
    </div>
    <div class="card text-center mt-5">
      <div class="card-header">
        {{event.title}} Churchill show
      </div>
      <div class="card-body">
        <div class="row">
          <div class="col-md-4">
            <div class="card" style="width: 100%;">
              <img
                src="https://res.cloudinary.com/dlqnalelc/{{event.poster}}"
                class="card-img-top" alt="...">

            </div>

          </div>
          <div class="col-md-8">
            <div class="row">
              <div class="date col-md-3">
                <h6 class="mt-2">{{event.date| date :'EEE' }}<br>{{event.date| date :'d'}} <br>{{event.date| date :'MMM'}} </h6>

              </div>
              <div class="details col-md-9">
                <i class="fas fa-clock"><span> {{event.time}}</span> </i>

                <i class="fas fa-map-marker-alt"><span> {{event.location}}</span></i>
              </div>
            </div>
            <div class="description mt-5">
              <p>{{event.description}}</p>
              <a id="grab-tickets" class="btn btn-primary mt-5">Grab your tickets now</a>

            </div>

          </div>
        </div>

      </div>
      <div class="card-footer text-muted" id="rem-days">
        2 days ago
      </div>
      <div class="card-footer" id="ticket-title">
        Tickets to {{event.title}} Churchill show
      </div>
      <div class="card-body" id="ticket-table">
        <form action="">
          <table>
            <tr>
              <th>Ticket type</th>
              <th>Unit cost</th>
              <th>No. of tickets</th>
              <th>Sub Total</th>
            </tr>
            <tr>
              <td>Regular</td>
              <td>Ksh. {{event.regular_ticket}}</td>
              <td>
                <select name="tickets" id="quantity" (change)="regularChange($event)" required="required">
                  <option value=0>0</option>
                  <option value=1>1</option>
                  <option value=2>2</option>
                  <option value=3>3</option>
                  <option value=4>4</option>
                  <option value=5>5</option>
                </select>
              </td>

                <!-- <input type="number" id="quantity" name="tickets" min=0 max=5 value=0 (change)="regularChange($event)"></td> -->
              <td>{{event.regular_ticket * regularTickets | number:'1.2-2' }}</td>

            </tr>
            <tr>
              <td>VIP</td>
              <td>Ksh. {{event.vip_ticket}} </td>
              <td>
                <select name="tickets" id="quantity" (change)="vipChange($event)" required="required">
                  <option value=0>0</option>
                  <option value=1>1</option>
                  <option value=2>2</option>
                  <option value=3>3</option>
                  <option value=4>4</option>
                  <option value=5>5</option>
                </select>
              </td>
                <!-- <input type="number" id="quantity" name="tickets" min=0 max=5 value=0 (change)="vipChange($event)"></td> -->
              <td>{{event.vip_ticket * vipTickets | number:'1.2-2'}}</td>
            </tr>
            <tr>
              <td></td>
              <td><strong>Total</strong></td>
              <td> <strong>{{(vipTickets-0) + (regularTickets-0)}}</strong></td>
              <td  *ngIf="!totalVip && !totalRegular"><strong>{{0 | number:'1.2-2'}} </strong></td>
              <td  *ngIf="totalVip || totalRegular"><strong>{{totalVip + totalRegular | number:'1.2-2'}}</strong></td>
            </tr>

          </table>

          <button type="submit" class="btn btn-danger mt-5" id="payment-btn" data-bs-toggle="modal"
            data-bs-target="#customer-details">MAKE PAYMENTS</button>
        </form>
        <!-- Modal -->
        <div class="modal fade" id="customer-details" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1"
          aria-labelledby="addcommentLabel" aria-hidden="true">
          <div class="modal-dialog">
            <div class="modal-content">
              <div class="modal-header">
                <h5 class="modal-title" id="staticBackdropLabel">CUSTOMER DETAILS</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
              </div>
              <div class="modal-body">
                <div class="form">
                  <form action="" class="form">
                    <div class="form-item">
                      <input name="first_name" type="text" class="form-control input mb-3" placeholder="First name"
                        required="required">
                    </div>
                    <div class="form-item">
                      <input name="last_name" type="text" class="form-control input mb-3" placeholder="Last name"
                        required="required">
                    </div>

                    <div class="form-item">
                      <input name="email" type="email" class="form-control input mb-3" placeholder="Email"
                        required="required">
                    </div>
                    <div class="form-group">
                      <input name="phone_number" type="text" id="phone_number" class="form-control"
                        placeholder="Phone number" required="required">
                    </div>


                    <div class="button">
                      <button type="submit" class="btn btn-success mt-3 signup-btn">
                        PROCEED TO MAKE PAYMENTS
                      </button>
                    </div>



                  </form>
                </div>




              </div>
              <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
              </div>
            </div>
          </div>
        </div>


      </div>
    </div>

  </div>
</div>
